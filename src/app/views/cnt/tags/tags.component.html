
<div class="row align-items-baseline">
  <button
  type="button"
  class="btn-add m-2 btn d-inline-flex justify-content-around py-btns radius align-items-center mb-4"
  (click)="changeSituation(1)"
  *appCanAccess="'Tags-Add'"
  >
  <strong>ایجاد</strong>
  </button>
  <button
  type="button"
  class="btn-delete btn m-2  d-inline-flex justify-content-around py-btns radius align-items-center mb-4"
  (click)="changeSituation(3)"
  *appCanAccess="'Tags-Delete'"
  >
  <strong>حذف</strong>
</button>
  <button
  type="button"
  class="edite-tag m-2 btn d-inline-flex justify-content-around py-btns radius align-items-center mb-4"
  (click)="changeSituation(2)"
  *appCanAccess="'Tags-Edit'"
  >
  <strong>ویرایش</strong>
  </button>
  <div ngbDropdown placement="bottom-end" class="d-flex justify-content-center align-items-center m-1 mb-3">
    <button
      type="button"
      class="btn btn-details radius py-btns text-small"
      id="dropdownBasic1"
      ngbDropdownToggle
    >
     {{ dropDownTitleHolder }}
    </button>
    <div
      ngbDropdownMenu
      class="mt-1 shadow-lg radius"
      aria-labelledby="dropdownBasic1"
    >
    <button
    class="text-left btn"
    ngbDropdownItem
    (click)="selectGroupId(null,'تمام هشتک‌ها')"
  >
    <strong>تمام هشتک‌ها</strong>
  </button>
      <button
        class="text-left btn"
        ngbDropdownItem
        *ngFor="let item of groupList"
        (click)="selectGroupId(item.value,item.title)"
      >
        <strong>{{ item.title }}</strong>
      </button>
    </div>
  </div>



  <!-- <div class="row" >
    <label class="col-auto" for="picker1">انتخاب گروه</label>
    <select
      class="form-control radius col-auto"
      [(ngModel)]="addItem.groupID"
    >
      <option *ngFor="let item of groupList" value="{{ item.value }}">
        {{ item.title }}
      </option>
    </select>
 
  </div> -->
</div>
<div class="list-container">
  <ul class="list-group flex-row flex-wrap list-unstyled">
   
    <li class="d-flex justify-content-center align-items-center" *ngIf="editeType==2">
      <button (click)="onToggle()" type="button" class="btn-add btn d-inline-flex justify-content-around py-btns radius align-items-center mr-2  ">
        <i class="i-Close text-bigger"></i><strong ></strong></button>

    </li>
    <ng-container *ngFor="let i of listItem  | paginate
              : {
                  itemsPerPage: page.size,
                  page: page.pageNumber,
                  currentPage: page.pageNumber,
                  totalItems: page.totalElements
                }">
      <li
        dir="ltr"
        [style.background]="i.backgroundColor"
        class="d-inline-flex align-items-center m-2 px-3 py-2 radius"
        [ngClass]="{'remove-tag': editeType ==3, 'edite-tag' : editeType ==2 }"

        >
        <span>
          <div class="d-flex align-items-center">
            <!-- ========[ویرایش]===== -->
            <button class="btn-modal-edited btn" (click)="showDialog(i.id , i.text)" *ngIf="editeType==2">
            <i class="pi pi-file-edit"></i>
            </button>
            <!-- ========[حذف]===== -->
            <button class="btn btn-modal-delet" (click)="showDialog(i.id)" *ngIf="editeType==3">
              <i class="pi pi-trash"></i>
            </button>
            <div >{{i.text}}</div>
          </div>
        </span>
      </li>
    </ng-container>
 
  </ul>
</div>
<div class="mt-3" >
  <pagination-controls *ngIf="page.totalElements > page.size"
    (pageChange)="setPage($event)"
    previousLabel=""
    nextLabel=""
    responsive="true"
  ></pagination-controls>
</div>


<p-dialog  header="آیا از عملیات مطمئن هستید" [(visible)]="visible" [modal]="true" [style]="{ width: '50vw' }" [draggable]="false" [resizable]="false">
  <!-- =========[مدال ویرایش]====== -->
  <div *ngIf="editeType==2">
    <div>
      <div class="mb-4" [contentEditable]="editable" (input)="editFunction(selectedID ,$event.target.innerText , selectedMeta)">{{selectedText}}</div>
  
      <p>نوع تگ را تعیین کنید:</p>
      <div class="row-switvh">
        <p class="mr-4"> متا تگ و هشتگ </p>
        <p-inputSwitch [(ngModel)]="checkedMeta" ></p-inputSwitch>
        <p class="ml-4">فقط متاتگ</p>
      </div>
    </div>
    <div class="modal-footer">
      <button class="btn-accept btn" (click)="onContentChange(selectedID)">
        <i class="pi pi-check mr-2"></i>انجام ویرایش
      </button>
      <button class="btn-reject btn" (click)="closeModal()">
        <i class="pi pi-times"></i>کنسل
      </button>
    </div>
  </div>
  <!-- =========[مدال ایجاد]====== -->
  <div *ngIf="editeType==1">
    <div class="creat-tag">
      <p class="mr-4">لطفا مقادیر تگ را وارد کنید:</p>
      <input  class="visible-on-focus" (keydown.space)="$event.preventDefault()" [(ngModel)]="addItemIput" #firstNameField>
    </div>
    <p>نوع تگ را تعیین کنید:</p>
    <div class="row-switvh">
      <p class="mr-4"> متا تگ و هشتگ </p>
      <p-inputSwitch [(ngModel)]="checkedMeta" ></p-inputSwitch>
      <p class="ml-4">فقط متاتگ</p>
    </div>

    <div class="modal-footer">
      <button class="btn-accept btn" (click)="addTagService()" *ngIf="addItemIput.length>0">
        <i class="pi pi-check mr-2"></i>ایجاد تگ
      </button>
      <button class="btn-reject btn" (click)="closeModal()">
        <i class="pi pi-times"></i>کنسل
      </button>
    </div>
  </div>
  <!-- =========[مدال حذف]====== -->
  <div *ngIf="editeType==3">
    <div class="row-btn">
      <button class="btn-accept btn" (click)="deletetags(selectedID)">
        <i class="pi pi-check mr-2"></i>حذف تگ
      </button>
      <button class="btn-reject btn" (click)="closeModal()">
        <i class="pi pi-times mr-2"></i>کنسل
      </button>
    </div>
  </div>
</p-dialog>


