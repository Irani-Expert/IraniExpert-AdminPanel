<!-- <input
  type="file"
  placeholder="Voice"
  (input)="changeVoicePath($event.target.files[0])"
/>
<button class="btn btn-light" (click)="uploadVoice()">آپلود</button> -->
<ul ngbNav #nav="ngbNav" class="nav-tabs p-0">
  <li ngbNavItem>
    <a ngbNavLink class="text-small">رویداد های تقویم</a>

    <ng-template ngbNavContent>
      <div class="pb-3 d-flex flex-row row align-items-center">
        <div class="d-flex flex-row flex-wrap col-10 align-items-center">
          <strong class="m-1 text-small"
            ><i class="i-Filter-2 text-dark text-bigger mr-1"></i> فیلتر بر اساس
            &nbsp; : &nbsp;</strong
          >

          <!-- Sector -->
          <strong for="pageOrder" class="text-small"> بخش خبر </strong>
          <div
            ngbDropdown
            placement="bottom-end"
            class="col-auto mb-2 mb-lg-0 mb-2 mb-lg-0"
          >
            <button
              type="button"
              class="btn btn-details radius py-btns text-small"
              id="dropdownBasic1"
              ngbDropdownToggle
            >
              {{ eventEnums.eventSector[sectorIndexHolder].title }}
            </button>
            <div
              ngbDropdownMenu
              class="mt-1 shadow-lg radius dropDown-scroll"
              aria-labelledby="dropdownBasic1"
              style="height: 300px; overflow: auto"
            >
              <button
                class="text-left btn mt-2"
                ngbDropdownItem
                *ngFor="let sector of eventEnums.eventSector"
                (click)="
                  filter.sector = sector.value;
                  sector.value == null
                    ? (sectorIndexHolder = 0)
                    : (sectorIndexHolder = sector.value + 1);
                  setFilter()
                "
              >
                <strong class="text-small">{{ sector.title }}</strong>
              </button>
            </div>
          </div>

          <!-- Sector -->
          <!-- Type -->
          <strong for="pageOrder" class="text-small"> نوع خبر </strong>
          <div ngbDropdown placement="bottom-end" class="col-auto mb-2 mb-lg-0">
            <button
              type="button"
              class="btn btn-details radius py-btns text-small"
              id="dropdownBasic1"
              ngbDropdownToggle
            >
              {{ eventEnums.eventType[typeIndexHolder].title }}
            </button>
            <div
              ngbDropdownMenu
              class="mt-1 shadow-lg radius dropDown-scroll"
              aria-labelledby="dropdownBasic1"
              style="height: 200px; overflow: auto"
            >
              <button
                class="text-left btn mt-2"
                ngbDropdownItem
                *ngFor="let type of eventEnums.eventType"
                (click)="
                  filter.type = type.value;
                  type.value == null
                    ? (typeIndexHolder = 0)
                    : (typeIndexHolder = type.value + 1);
                  setFilter()
                "
              >
                <strong class="text-small">{{ type.title }}</strong>
              </button>
            </div>
          </div>
          <!-- Type -->

          <!-- Frequency -->
          <strong for="pageOrder" class="text-small"> دوره زمانی </strong>
          <div ngbDropdown placement="bottom-end" class="col-auto mb-2 mb-lg-0">
            <button
              type="button"
              class="btn btn-details radius py-btns text-small"
              id="dropdownBasic1"
              ngbDropdownToggle
            >
              {{ eventEnums.eventFrequencies[frequencyIndexHolder].title }}
            </button>
            <div
              ngbDropdownMenu
              class="mt-1 shadow-lg radius dropDown-scroll"
              aria-labelledby="dropdownBasic1"
              style="height: 245px; overflow: auto"
            >
              <button
                class="text-left btn mt-2"
                ngbDropdownItem
                *ngFor="let frequency of eventEnums.eventFrequencies"
                (click)="
                  filter.frequency = frequency.value;
                  frequency.value == null
                    ? (frequencyIndexHolder = 0)
                    : (frequencyIndexHolder = frequency.value + 1);
                  setFilter()
                "
              >
                <strong class="text-small">{{ frequency.title }}</strong>
              </button>
            </div>
          </div>
          <!-- Frequency -->
          <!-- Importance -->
          <strong for="pageOrder" class="text-small"> اهمیت خبر </strong>
          <div ngbDropdown placement="bottom-end" class="col-auto mb-2 mb-lg-0">
            <button
              type="button"
              class="btn btn-details radius py-btns text-small"
              id="dropdownBasic1"
              ngbDropdownToggle
            >
              {{ eventEnums.eventImportances[importanceIndexHolder].title }}
            </button>
            <div
              ngbDropdownMenu
              class="mt-1 shadow-lg radius dropDown-scroll"
              aria-labelledby="dropdownBasic1"
              style="height: 245px; overflow: auto"
            >
              <button
                class="text-left btn mt-2"
                ngbDropdownItem
                *ngFor="let importance of eventEnums.eventImportances"
                (click)="
                  filter.importance = importance.value;
                  importance.value == null
                    ? (importanceIndexHolder = 0)
                    : (importanceIndexHolder = importance.value + 1);
                  setFilter()
                "
              >
                <strong class="text-small">{{ importance.title }}</strong>
              </button>
            </div>
          </div>
          <!-- Importance -->

          <!-- Expand The Div -->
          <button
            (click)="toggleFilters()"
            class="btn-filter btn d-inline-flex justify-content-around py-btns radius align-items-center m-1"
          >
            <strong class="text-small mr-1">پیشرفته</strong>
            <span class="d-inline-flex"
              ><span
                class="pi pi-chevron-left ml-1"
                [@rotate90deg]="stateOfChevron"
                style="font-size: 0.7rem"
              ></span
            ></span>
          </button>
          <!-- Expand The Div -->
        </div>
      </div>
      <!-- Hidden Filtering Div -->
      <div @slideInOut *ngIf="isDivExpanded">
        <div class="flex-row d-flex flex-wrap align-items-center">
          <!-- Inputs -->
          <input
            (keydown.enter)="filterWithEnter($event.target.value)"
            type="text"
            class="form-control m-1 radius col-9 col-lg-2 col-md-4 bg-white text-small"
            placeholder="شناسه "
            [(ngModel)]="filter.iD"
          />
          <span
            *ngIf="filterHolder.iD"
            (click)="filter.iD = null; setFilter()"
            class="d-inline-flex p-2 bg-light rounded-circle cursor-pointer"
            ><span class="pi pi-times" style="font-size: 0.7rem"></span
          ></span>
          <input
            (keydown.enter)="filterWithEnter($event.target.value)"
            type="text"
            class="form-control m-1 radius col-9 col-lg-2 col-md-4 bg-white text-small"
            placeholder="کد شاخص "
            [(ngModel)]="filter.eventCode"
          />
          <span
            *ngIf="filterHolder.eventCode"
            (click)="filter.eventCode = null; setFilter()"
            class="d-inline-flex p-2 bg-light rounded-circle cursor-pointer"
            ><span class="pi pi-times" style="font-size: 0.7rem"></span
          ></span>
          <input
            (keydown.enter)="filterWithEnter($event.target.value)"
            type="text"
            class="form-control m-1 radius col-9 col-lg-2 col-md-4 bg-white text-small"
            placeholder="عنوان"
            [(ngModel)]="filter.name"
          />
          <span
            *ngIf="filterHolder.name"
            (click)="filter.name = null; setFilter()"
            class="d-inline-flex p-2 bg-light rounded-circle cursor-pointer"
            ><span class="pi pi-times" style="font-size: 0.7rem"></span
          ></span>
          <input
            (keydown.enter)="filterWithEnter($event.target.value)"
            type="text"
            class="form-control m-1 radius col-9 col-lg-2 col-md-4 bg-white text-small"
            placeholder="لینک منبع"
            [(ngModel)]="filter.sourceUrl"
          />
          <span
            *ngIf="filterHolder.sourceUrl"
            (click)="filter.sourceUrl = null; setFilter()"
            class="d-inline-flex p-2 bg-light rounded-circle cursor-pointer"
            ><span class="pi pi-times" style="font-size: 0.7rem"></span
          ></span>
          <input
            (keydown.enter)="filterWithEnter($event.target.value)"
            type="text"
            class="form-control m-1 radius col-9 col-lg-2 col-md-4 bg-white text-small"
            placeholder="کد کشور"
            [(ngModel)]="filter.countryID"
          />
          <span
            *ngIf="filterHolder.countryID"
            (click)="filter.countryID = null; setFilter()"
            class="d-inline-flex p-2 bg-light rounded-circle cursor-pointer"
            ><span class="pi pi-times" style="font-size: 0.7rem"></span
          ></span>
          <button
            type="button"
            ngbAutofocus
            class="btn-filter btn d-inline-flex justify-content-around py-btns radius align-items-center"
            (click)="setFilter()"
          >
            <i class="i-Filter-2 text-bigger mr-2"></i>
            <strong class="text-small">فیلتر </strong>
          </button>
        </div>
      </div>
      <!-- Hidden Filtering Div -->
      <div class="content">
        <div class="table-responsive custom-table-responsive">
          <table class="table custom-table">
            <thead>
              <tr>
                <th>ارز</th>
                <th>توضیح خبر</th>
                <th>اهمیت</th>
                <th class="text-center">بخش خبر</th>
                <th class="text-center">حالت زمانی</th>
                <th class="text-center">دوره زمانی</th>
              </tr>
            </thead>
            <tbody>
              <ng-container
                *ngFor="
                  let item of eventData
                    | paginate
                      : {
                          itemsPerPage: page.size,
                          currentPage: page.pageNumber,
                          totalItems: page.totalElements
                        }
                "
              >
                <tr
                  scope="row"
                  (click)="openModal(detailsModal, 'lg', true, item)"
                  class="cursor-pointer"
                >
                  <td><span class="fi fi-us fib"></span>&nbsp; USD</td>
                  <td>{{ item.name }}</td>
                  <td>
                    <span class="d-inline-flex align-items-center">
                      <span
                        class="pi pi-circle-fill"
                        [ngClass]="{
                          'text-dark': item.importance == 0,
                          'blinking-med text-warning': item.importance == 3,
                          'blinking-slow text-light': item.importance == 1,
                          'blinking-fast text-danger': item.importance == 2
                        }"
                      ></span
                      >&nbsp;&nbsp;{{ item.importanceTitle }}
                    </span>
                  </td>
                  <td class="text-center">{{ item.sectorTitle }}</td>
                  <td class="text-center">{{ item.timeModeTitle }}</td>
                  <td class="text-center">{{ item.frequencyTitle }}</td>
                </tr>
                <tr class="spacer">
                  <td colspan="100"></td>
                </tr>
              </ng-container>
            </tbody>
          </table>
        </div>
      </div>
      <div class="col-md-12 mt-3" *ngIf="page.totalElements > 25">
        <pagination-controls
          (pageChange)="setPage($event, null)"
          previousLabel=""
          nextLabel=""
          responsive="true"
        ></pagination-controls>
      </div>
      <ng-template let-modal #detailsModal>
        <div class="shadow-lg radius modal-height d-flex flex-column flex-wrap">
          <div class="modal-header border-0">
            <div class="w-75 h-custom-header">
              <span class="d-inline-flex align-items-center">
                <span class="pi pi-circle-fill text-dark text-bigger"></span
                >&nbsp;
              </span>
              <input
                (click)="onFocusIn()"
                type="text"
                class="form-control-sm radius w-75 text-small disabled-title-input"
                *ngIf="!changing"
                value="{{ eventNameHolder }}"
              />
              <input
                value="{{ eventNameHolder }}"
                [(ngModel)]="eventDetails.name"
                autocomplete="off"
                *ngIf="changing"
                type="text"
                id="enabledInput"
                (focusout)="onFocusOut()"
                class="form-control-sm radius w-75 text-small enabled-title-input"
              />
              <div class="d-block">
                <span
                  *ngIf="changing"
                  ngbTooltip="انصراف"
                  [openDelay]="50"
                  [closeDelay]="150"
                  placement="bottom"
                  class="d-inline-flex mt-2 p-2 radius bg-light"
                  (click)="
                    changing = fasle; eventDetails.name = eventNameHolder
                  "
                  ><i class="i-Close text-bigger text-black"></i
                ></span>
                <span
                  *ngIf="changing"
                  (click)="
                    eventNameHolder = eventDetails.name; changing = false
                  "
                  ngbTooltip="ثبت"
                  [openDelay]="50"
                  [closeDelay]="150"
                  placement="bottom"
                  class="d-inline-flex mt-2 p-2 radius btn-save ml-2"
                  ><i class="i-Yes text-bigger text-black"></i
                ></span>
              </div>
            </div>
            <button
              ngbAutoFocus
              type="button"
              class="close"
              aria-label="Close"
              (click)="eventDetails.name = eventNameHolder; modal.dismiss()"
            >
              <span style="font-size: 1.7rem" aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <div class="d-flex flex-row flex-wrap">
              <!-- Each Value -->
              <div class="d-flex flex-column mr-4 mb-1">
                <div
                  class="d-flex align-items-center justify-content-start mb-1"
                >
                  <span
                    class="pi pi-circle-fill text-light m-1"
                    style="font-size: 0.82rem"
                  ></span
                  ><label class="my-1 text-small" for="type">شناسه</label>
                </div>
                <span class="card py-2 px-4 radius bg-light"
                  ><strong class="text-small">
                    {{ eventDetails.id }}
                  </strong></span
                >
              </div>
              <!-- Each Value -->
              <!-- Each Value -->
              <div class="d-flex flex-column mr-4 mb-1">
                <div
                  class="d-flex align-items-center justify-content-start mb-1"
                >
                  <span
                    class="pi pi-circle-fill text-light m-1"
                    style="font-size: 0.82rem"
                  ></span
                  ><label class="my-1 text-small" for="type">نوع خبر</label>
                </div>
                <span class="card py-2 px-4 radius bg-light"
                  ><strong class="text-small">
                    {{ eventDetails.typeTitle }}
                  </strong></span
                >
              </div>
              <!-- Each Value -->
              <!-- Each Value -->
              <div class="d-flex flex-column mr-4 mb-1">
                <div
                  class="d-flex align-items-center justify-content-start mb-1"
                >
                  <span
                    class="pi pi-circle-fill text-light m-1"
                    style="font-size: 0.82rem"
                  ></span
                  ><label class="my-1 text-small" for="type">حالت زمان</label>
                </div>
                <span class="card py-2 px-4 radius bg-light"
                  ><strong class="text-small">
                    {{ eventDetails.timeModeTitle }}
                  </strong></span
                >
              </div>
              <!-- Each Value -->

              <!-- Each Value -->
              <div class="d-flex flex-column mr-4 mb-1">
                <div
                  class="d-flex align-items-center justify-content-start mb-1"
                >
                  <span
                    class="pi pi-circle-fill text-light m-1"
                    style="font-size: 0.82rem"
                  ></span
                  ><label class="my-1 text-small" for="type">بخش مربوطه</label>
                </div>
                <span class="card py-2 px-4 radius bg-light"
                  ><strong class="text-small">
                    {{ eventDetails.sectorTitle }}
                  </strong></span
                >
              </div>
              <!-- Each Value -->

              <!-- Each Value -->
              <div class="d-flex flex-column mr-4 mb-1">
                <div
                  class="d-flex align-items-center justify-content-start mb-1"
                >
                  <span
                    class="pi pi-circle-fill text-light m-1"
                    style="font-size: 0.82rem"
                  ></span
                  ><label class="my-1 text-small" for="type"
                    >معیار محاسبه</label
                  >
                </div>
                <span class="card py-2 px-4 radius bg-light"
                  ><strong class="text-small">
                    {{ eventDetails.unitTitle }}
                  </strong></span
                >
              </div>
              <!-- Each Value -->

              <!-- Each Value -->
              <div class="d-flex flex-column mr-4 mb-1">
                <div
                  class="d-flex align-items-center justify-content-start mb-1"
                >
                  <span
                    class="pi pi-circle-fill text-light m-1"
                    style="font-size: 0.82rem"
                  ></span
                  ><label class="my-1 text-small" for="type">دوره تناوب</label>
                </div>
                <span class="card py-2 px-4 radius bg-light"
                  ><strong class="text-small">
                    {{ eventDetails.frequencyTitle }}
                  </strong></span
                >
              </div>
              <!-- Each Value -->

              <!-- Each Value -->
              <div class="d-flex flex-column mr-4 mb-1">
                <div
                  class="d-flex align-items-center justify-content-start mb-1"
                >
                  <span
                    class="pi pi-circle-fill text-light m-1"
                    style="font-size: 0.82rem"
                  ></span
                  ><label class="my-1 text-small" for="type">اهمیت خبر</label>
                </div>
                <span
                  class="card py-2 px-4 radius"
                  [ngClass]="{
                    'bg-danger text-white': eventDetails.importance == 2,
                    'bg-light': eventDetails.importance == 1,
                    'bg-warning': eventDetails.importance == 3,
                    'bg-dark': eventDetails.importance == 0
                  }"
                  ><strong class="text-small">
                    {{ eventDetails.importanceTitle }}
                  </strong></span
                >
              </div>
              <!-- Each Value -->

              <!-- Each Value -->
              <div class="d-flex flex-column mr-4 mb-1">
                <div
                  class="d-flex align-items-center justify-content-start mb-1"
                >
                  <span
                    class="pi pi-circle-fill text-light m-1"
                    style="font-size: 0.82rem"
                  ></span
                  ><label class="my-1 text-small" for="type">مضرب</label>
                </div>
                <span class="card py-2 px-4 radius bg-light"
                  ><strong class="text-small">
                    {{ eventDetails.multiplierTitle }}
                  </strong></span
                >
              </div>
              <!-- Each Value -->
            </div>

            <!-- CKEDITOR -->

            <div class="row my-3">
              <hr
                class="d-flex flex-grow-1"
                style="margin: 13px 10px 13px 8px"
              />
              <div class="col-auto">
                <strong class="text-small">پیش نمایش</strong>
              </div>
              <hr
                class="d-flex flex-grow-1"
                style="margin: 13px 8px 13px 10px"
              />
            </div>
            <ckeditor
              (paste)="onPasteEditor($event)"
              (change)="onChangeEditor($event)"
              name="myckeditor"
              [config]="ckeConfig"
              debounce="100"
              [(ngModel)]="eventDetails.description"
            >
            </ckeditor>

            <!-- CKEDITOR -->
          </div>

          <div class="d-flex flex-grow-1"></div>
          <div class="modal-footer border-0">
            <button
              (click)="putEvent()"
              type="button"
              class="btn-save btn d-inline-flex justify-content-around py-btns radius align-items-center ml-2 float-right"
            >
              <i class="i-Yes text-bigger mr-2"></i
              ><strong class="text-small">ذخیره</strong>
            </button>
            <button
              (click)="modal.close(false)"
              type="button"
              class="btn-filter btn d-inline-flex justify-content-around py-btns radius align-items-center ml-2 float-right"
            >
              <i class="i-Close text-bigger mr-2"></i
              ><strong class="text-small">انصراف</strong>
            </button>
          </div>
        </div>
      </ng-template>
    </ng-template>
  </li>
  <!-- <li ngbNavItem>
    <a ngbNavLink class="text-small">کشور ها</a>
    <ng-template ngbNavContent><app-countries></app-countries></ng-template>
  </li> -->
</ul>
<div [ngbNavOutlet]="nav"></div>
