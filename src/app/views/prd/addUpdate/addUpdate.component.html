<ul ngbNav #nav="ngbNav" class="nav-tabs">
  <li ngbNavItem>
    <a ngbNavLink
      ><p *ngIf="addUpdate.id == 0">ایجاد</p>
      <p *ngIf="addUpdate.id !== 0">ویرایش</p></a
    >
    <ng-template ngbNavContent>
      <div class="row">
        <!-- cardImagePath img -->
        <div class="col-md-7 mt-4">
          <input type="file" (change)="onFileChanged($event)" />

          <div>
            <image-cropper
              [imageChangedEvent]="imgChangeEvt"
              [maintainAspectRatio]="false"
              format="webp"
              [resizeToWidth]="1280"
              (imageCropped)="cropImg($event)"
              (imageLoaded)="imgLoad()"
              (cropperReady)="initCropper()"
              (loadImageFailed)="imgFailed()"
            >
            </image-cropper>
          </div>
          <div class="float-left w-25">
            <img [src]="cropImagePreview" alt="" />
          </div>
        </div>
        <div class="col-12 mt-2 mb-3">
          <button
            type="button"
            class="btn btn-rounded btn-outline-dark"
            (click)="uploadFile()"
          >
            آپلود کن
          </button>
        </div>
        <form class="col-12 row mt-2 mb-3" [formGroup]="addForm">
          <!-- Title -->
          <div class="col-md-6 form-group mb-3">
            <label for="title">عنوان</label>
            <input
              type="text"
              class="form-control form-control-rounded"
              id="title"
              placeholder="عنوان مورد نظر را وارد کنید "
              [formControl]="addForm.controls['title']"
              [(ngModel)]="addUpdate.title"
              maxlength="51"
              minlength="2"
            />

            <small
              *ngIf="
                addForm.controls['title'].hasError('required') &&
                addForm.controls['title'].touched
              "
              class="mat-text-warn m-t-negative"
              >عنوان محصول ضروری است</small
            >
          </div>
          <!-- type  -->
          <div class="col-md-6 form-group mb-3">
            <label for="type">نوع محصول را انتخاب کنید</label>
            <select
              [formControl]="addForm.controls['type']"
              class="form-control form-control-rounded"
              [ngModel]="addUpdate.type"
              (ngModelChange)="selectType($event)"
            >
              <option value="0">اکسپرت</option>
              <option value="1">اندیکاتور</option>
              <option value="2">کمکی</option>
            </select>
            <small
              *ngIf="
                addForm.controls['type'].hasError('required') &&
                addForm.controls['type'].touched
              "
              class="mat-text-warn m-t-negative"
              >انتخاب نوع گروه ضروری است</small
            >
          </div>
          <!-- OrderId  -->
          <div class="col-md-6 form-group mb-3">
            <label for="orderID">اولویت را مشخص کنید</label>
            <select
              [formControl]="addForm.controls['orderID']"
              class="form-control form-control-rounded"
              [ngModel]="addUpdate.orderID"
              (ngModelChange)="selectOrder($event)"
            >
              <option value="0">بسیار بالا</option>
              <option value="1">بالا</option>
              <option value="2">متوسط</option>
              <option value="3">پایین</option>
              <option value="4">بسیار پایین</option>
            </select>
            <small
              *ngIf="
                addForm.controls['orderID'].hasError('required') &&
                addForm.controls['orderID'].touched
              "
              class="mat-text-warn m-t-negative"
              >انتخاب نوع گروه ضروری است</small
            >
          </div>
          <!-- isActive  -->
          <div class="col-md-6 form-group mb-3 mt-3">
            <label class="m-1">فعال</label>
            <label class="switch switch-primary mr-2 m-2">
              <span>غیرفعال</span>
              <input
                [(ngModel)]="addUpdate.isActive"
                [formControl]="addForm.controls['isActive']"
                type="checkbox"
                id="isActive"
              />
              <span class="slider"></span>
            </label>
          </div>
          <!-- description  -->
          <div class="col-md-12 form-group mb-3">
            <label for="description">توضیحات</label>
            <textarea
              name=""
              cols="30"
              rows="10"
              type="text"
              class="form-control form-control-rounded"
              id="description"
              [formControl]="addForm.controls['description']"
              [(ngModel)]="addUpdate.description"
              maxlength="501"
            >
            </textarea>
            <small
              *ngIf="addForm.controls['description'].hasError('maxlength')"
              class="mat-text-warn m-t-negative"
              >توضیحات بیشتر از حد مجاز</small
            >
          </div>
        </form>
      </div>
      <button
        type="button"
        class="btn btn-outline-dark btn-rounded"
        (click)="addOrUpdate(addUpdate)"
        *ngIf="addUpdate.id !== 0"
        [disabled]="!addForm.valid"
      >
        ویرایش
      </button>
      <button
        type="button"
        class="btn btn-outline-dark btn-rounded"
        (click)="addOrUpdate(addUpdate)"
        *ngIf="addUpdate.id === 0"
        [disabled]="!addForm.valid"
      >
        ایجاد
      </button>
    </ng-template>
  </li>
  <li ngbNavItem [disabled]="productId == 0">
    <a ngbNavLink>امکانات </a>
    <ng-template ngbNavContent>
      <app-facility [productId]="productId"></app-facility>
    </ng-template>
  </li>
  <li ngbNavItem [disabled]="productId == 0">
    <a ngbNavLink>گالری تصاویر </a>
    <ng-template ngbNavContent>
      <app-gallery [productId]="productId"></app-gallery>
    </ng-template>
  </li>
  <li ngbNavItem [disabled]="productId == 0">
    <a ngbNavLink>بک تست </a>
    <ng-template ngbNavContent>
      <app-back-test [productId]="productId"></app-back-test>
    </ng-template>
  </li>

  <li ngbNavItem [disabled]="productId == 0">
    <a ngbNavLink>آموزش </a>
    <ng-template ngbNavContent>
      <app-learn [productId]="productId"></app-learn>
    </ng-template>
  </li>
  <li ngbNavItem [disabled]="productId == 0">
    <a ngbNavLink>پلن های فروش </a>
    <ng-template ngbNavContent>
      <app-plan [productId]="productId"></app-plan>
    </ng-template>
  </li>
  <li ngbNavItem [disabled]="productId == 0">
    <a ngbNavLink>FAQ</a>
    <ng-template ngbNavContent>
      <app-faq [productId]="productId" [tableType]="6"></app-faq>
    </ng-template>
  </li>
  <li ngbNavItem [disabled]="productId == 0">
    <a ngbNavLink>نظرات </a>
    <ng-template ngbNavContent>
      <app-comment [productId]="productId" [tableType]="6"></app-comment>
    </ng-template>
  </li>
</ul>

<div [ngbNavOutlet]="nav"></div>
