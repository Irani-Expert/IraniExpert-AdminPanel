<div class=" scrollable h-main " dir="ltr" #viewport>
  <p-organizationChart
    [value]="treeNodes"
    selectionMode="single"
    [(selection)]="selectedNode"
    (onNodeExpand)="testonNodeExpand($event)"
    (onNodeCollapse)="onNodedeSelected($event)"
    class="zoom-out"
    #viewBox
  >
    <ng-template let-node pTemplate="person">
      <!-- <div> <div id="main">
        <img src="https://upload.wikimedia.org/wikipedia/commons/9/99/Sample_User_Icon.png" >
      </div></div> -->
      <section class="main" >
        <div class="profile-card">
          <div class="image">
            <img 
            id={{node.id}}
              src="https://upload.wikimedia.org/wikipedia/commons/9/99/Sample_User_Icon.png"
            />
          </div>
          <div class="data">
            <h3 class="font-face">{{ node.title }}</h3>
            <span
              class="fo-small font-face span-static-time"
              *ngIf="node.parentId != null"
              >مجموع پرداختی:<span class="total-payment fo-small font-face"
                >${{ node.totalPayment == null ? 0 : node.totalPayment }}</span
              ></span
            >
          </div>
          <div class="row m-2">
            <div class="col-6">
              <div class="card m-1">
                <h5 class="header-label p-2 font-face">شماره حساب</h5>
                <span class="fo-small font-face span-static-time">{{
                  node.accountNumber == null ? 0 : node.accountNumber
                }}</span>
              </div>
            </div>
            <div class="col-6">
              <div class="card m-1">
                <h5 class="header-label p-1 font-face">شناسه</h5>
                <span class="fo-small font-face span-static-time">{{
                  node.id
                }}</span>
              </div>
            </div>
            <div class="col-6">
              <div class="card m-1">
                <h5 class="header-label p-1 font-face">شماره تلفن</h5>
                <span class="fo-small font-face span-static-time">{{
                  node.phoneNumber
                }}</span>
              </div>
            </div>

            <div class="col-6 flex-column-reverse">
              <div class="card m-1">
                <h5 class="header-label p-1 font-face">زیر مجموعه ها</h5>
                <div class="person-Count fo-small font-face">
                  <span class="pr-1 fo-small span-static-time">{{
                    node.childrenCount
                  }}</span>
                  <span class="fo-small font-face"> نفر</span>
                </div>
              </div>
            </div>
            <div class="col-12 text-center">
              <div class="card m-1">
                <h5 class="header-label p-1 font-face">ایمیل</h5>
                <span class="fo-small font-face span-static-time">{{
                  node.email
                }}</span>
              </div>
            </div>
          </div>
        </div>
      </section>
    </ng-template>
  </p-organizationChart>
</div>

